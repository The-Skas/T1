[gd_scene load_steps=20 format=2]

[ext_resource path="res://scripts/Main.gd" type="Script" id=1]
[ext_resource path="res://scripts/Rewindable.gd" type="Script" id=2]
[ext_resource path="res://resource/House_objects/Entity.tscn" type="PackedScene" id=3]
[ext_resource path="res://resource/blood_2.png" type="Texture" id=4]
[ext_resource path="res://resource/futuristic-tiles/rmvxace/Extra/parallax_windows.png" type="Texture" id=5]
[ext_resource path="res://scenes/Dining_Table.tscn" type="PackedScene" id=6]
[ext_resource path="res://resource/House_objects/Kitchen_table1.tscn" type="PackedScene" id=7]
[ext_resource path="res://resource/House_objects/kitchen_table_2.png" type="Texture" id=8]
[ext_resource path="res://Mother.tscn" type="PackedScene" id=9]
[ext_resource path="res://scenes/Player.tscn" type="PackedScene" id=10]
[ext_resource path="res://resource/House_objects/pantry.png" type="Texture" id=11]
[ext_resource path="res://resource/sounds/Blues-Bits.ogg" type="AudioStream" id=12]
[ext_resource path="res://resource/House_objects/radio.png" type="Texture" id=13]
[ext_resource path="res://scenes/Chandalier.tscn" type="PackedScene" id=14]
[ext_resource path="res://resource/Comics/Cooking.png" type="Texture" id=15]
[ext_resource path="res://scripts/CameraShake.gd" type="Script" id=16]

[sub_resource type="GDScript" id=1]

script/source = " 
extends KinematicBody2D

# class member variables go here, for example:
# var a = 2
# var b = \"textvar\"


func _ready():
	# Called when the node is added to the scene for the first time.
	# Initialization here
	pass

#func _process(delta):
#	# Called every frame. Delta is time since last frame.
#	# Update game logic here.
#	pass
func interact():
	print(\"Im a real table!\")
	get_node(\"Sprite\").modulate = Color(154,30,30,1.0)
	get_node(\"../Mother\").goal = self.position

func rewind():
		get_node(\"Sprite\").modulate = Color(1.0,1.0,1.0,1.0)"

[sub_resource type="GDScript" id=3]

script/source = "tool
extends KinematicBody2D

# class member variables go here, for example:
# var a = 2
# var b = \"textvar\"
export(Texture) var my_texture = null setget set_sprite
export(String) var my_name = \"SnoopDog\"
func set_sprite(texture):
	my_texture = texture
	if($Sprite != null):
		$Sprite.texture = texture
	update()

func _ready():
	# Called when the node is added to the scene for the first time.
	# Initialization here
	if(not(my_texture == null)):
		$Sprite.texture = my_texture
	pass

#func _process(delta):
#	# Called every frame. Delta is time since last frame.
#	# Update game logic here.
#	pass
var toggle_radio = true
func interact():
	print(\"Im a real entity!\")

	
	get_node(\"../Mother\").set_goal_pos(self.position)
	
	if(toggle_radio):
		$AudioStreamPlayer2D.play()
		toggle_radio = false
	else:
		$AudioStreamPlayer2D.stop()
		toggle_radio = true
	#Play Music

func rewind():
		get_node(\"Sprite\").modulate = Color(1.0,1.0,1.0,1.0)
		$AudioStreamPlayer2D.stop()
		toggle_radio = true"

[sub_resource type="NavigationPolygon" id=2]

vertices = PoolVector2Array( -3.91254, -5.72095, 958.922, -6.3689, 566.793, 236.134, 414.316, 237.508, 960.866, 547.773, 556.603, 408.526, -18.1671, 549.069, 419.241, 407.301 )
polygons = [ PoolIntArray( 0, 1, 2, 3 ), PoolIntArray( 2, 1, 4, 5 ), PoolIntArray( 5, 4, 6, 7 ), PoolIntArray( 6, 0, 3, 7 ) ]
outlines = [ PoolVector2Array( -3.91254, -5.72095, 958.922, -6.3689, 960.866, 547.773, -18.1671, 549.069 ), PoolVector2Array( 414.316, 237.508, 419.241, 407.301, 556.603, 408.526, 566.793, 236.134 ) ]

[node name="Root" type="Node2D" index="0"]

position = Vector2( 285, 271 )
script = ExtResource( 1 )
_sections_unfolded = [ "Transform", "Visibility" ]

[node name="Stage" type="Node2D" parent="." index="0"]

script = ExtResource( 2 )
_sections_unfolded = [ "Transform" ]

[node name="Background" type="Node2D" parent="Stage" index="0"]

_sections_unfolded = [ "Transform" ]

[node name="Blood" parent="Stage/Background" index="0" instance=ExtResource( 3 )]

editor/display_folded = true
modulate = Color( 0.378906, 0.125331, 0.0916709, 1 )
position = Vector2( 765.045, 430.658 )
scale = Vector2( 1.2655, 1.16426 )
_sections_unfolded = [ "Collision", "Transform", "Visibility" ]
my_texture = ExtResource( 4 )

[node name="Sprite" parent="Stage/Background/Blood" index="0"]

texture = ExtResource( 4 )

[node name="Area2D" type="Area2D" parent="Stage/Background/Blood" index="1"]

input_pickable = true
gravity_vec = Vector2( 0, 1 )
gravity = 98.0
linear_damp = 0.1
angular_damp = 1.0
audio_bus_override = false
audio_bus_name = "Master"

[node name="CollisionShape2D" parent="Stage/Background/Blood/StaticBody" index="0"]

one_way_collision = true

[node name="Window" parent="Stage/Background" index="1" instance=ExtResource( 3 )]

editor/display_folded = true
modulate = Color( 0.933333, 0.890196, 0.890196, 1 )
position = Vector2( 464.402, 106.042 )
scale = Vector2( 1.2655, 1.16426 )
_sections_unfolded = [ "Collision", "Transform", "Visibility" ]
my_texture = ExtResource( 5 )

[node name="Sprite" parent="Stage/Background/Window" index="0"]

position = Vector2( -3.2004, 15.7083 )
scale = Vector2( 0.649375, 0.664412 )
texture = ExtResource( 5 )
hframes = 2
region_enabled = true
region_rect = Rect2( 133, 0, 68, 75 )
region_filter_clip = true
_sections_unfolded = [ "Animation", "Offset", "Region", "Transform", "Visibility" ]

[node name="Area2D" type="Area2D" parent="Stage/Background/Window" index="1"]

input_pickable = true
gravity_vec = Vector2( 0, 1 )
gravity = 98.0
linear_damp = 0.1
angular_damp = 1.0
audio_bus_override = false
audio_bus_name = "Master"

[node name="CollisionShape2D" parent="Stage/Background/Window/StaticBody" index="0"]

one_way_collision = true

[node name="Foreground" type="YSort" parent="Stage" index="1"]

sort_enabled = true
script = ExtResource( 2 )
_sections_unfolded = [ "Transform" ]

[node name="Dining" parent="Stage/Foreground" index="0" instance=ExtResource( 6 )]

position = Vector2( 468.768, 375.672 )
scale = Vector2( 2.46763, 1.98202 )

[node name="Kitchen_1" parent="Stage/Foreground" index="1" instance=ExtResource( 7 )]

editor/display_folded = true
modulate = Color( 1, 1, 1, 1 )
position = Vector2( 354.182, 185.319 )
scale = Vector2( 1.71775, 1.8757 )
script = SubResource( 1 )

[node name="Kitchen_2" parent="Stage/Foreground" index="2" instance=ExtResource( 7 )]

editor/display_folded = true
modulate = Color( 1, 1, 1, 1 )
position = Vector2( 464.182, 185.319 )
scale = Vector2( 1.71775, 1.8757 )

[node name="Sprite" parent="Stage/Foreground/Kitchen_2" index="0"]

texture = ExtResource( 8 )

[node name="Mother" parent="Stage/Foreground" index="3" instance=ExtResource( 9 )]

editor/display_folded = true
position = Vector2( 470.331, 238.711 )
_sections_unfolded = [ "Collision" ]

[node name="Goal" type="Position2D" parent="Stage/Foreground/Mother" index="2"]

position = Vector2( -235.035, 1.35732 )
scale = Vector2( 1.02042, 1.05307 )

[node name="Player" parent="Stage/Foreground" index="4" instance=ExtResource( 10 )]

position = Vector2( 250.378, 301.514 )
scale = Vector2( 1.41365, 1.3934 )
collision_mask = 1

[node name="Pantry" parent="Stage/Foreground" index="5" instance=ExtResource( 3 )]

editor/display_folded = true
position = Vector2( 657.081, 148.284 )
scale = Vector2( 1.5124, 2.11984 )
script = SubResource( 3 )
my_texture = ExtResource( 11 )

[node name="Sprite" parent="Stage/Foreground/Pantry" index="0"]

texture = ExtResource( 11 )

[node name="CollisionShape2D" parent="Stage/Foreground/Pantry/StaticBody" index="0"]

position = Vector2( -2.0905, -13.8905 )
scale = Vector2( 2.19018, 2.20227 )

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="Stage/Foreground/Pantry" index="3"]

position = Vector2( -434.462, -69.9506 )
scale = Vector2( 0.661201, 0.471734 )
stream = ExtResource( 12 )
volume_db = -14.7
pitch_scale = 1.0
autoplay = false
max_distance = 2000.0
attenuation = 4.59479
bus = "Master"
area_mask = 1

[node name="Radio" type="Sprite" parent="Stage/Foreground/Pantry" index="4"]

modulate = Color( 0.134514, 0.714844, 0.674039, 1 )
position = Vector2( 11.6437, -8.6906 )
scale = Vector2( 0.159541, 0.0970531 )
texture = ExtResource( 13 )
_sections_unfolded = [ "Transform", "Visibility" ]

[node name="Chandalier" parent="." index="1" instance=ExtResource( 14 )]

position = Vector2( 466.8, -21.4 )
scale = Vector2( 0.635622, 0.4748 )

[node name="Navigation" type="Navigation2D" parent="." index="2"]

visible = false
_sections_unfolded = [ "Transform" ]

[node name="NavigationPolygonInstance" type="NavigationPolygonInstance" parent="Navigation" index="0"]

position = Vector2( -17.4944, -17.6184 )
scale = Vector2( 1, 1.05781 )
navpoly = SubResource( 2 )
enabled = true

[node name="Comics" type="Node2D" parent="." index="3"]

[node name="Cooking" type="Sprite" parent="Comics" index="0"]

visible = false
position = Vector2( 493.773, 233.214 )
scale = Vector2( 1.98058, 1.54587 )
texture = ExtResource( 15 )

[node name="Camera" type="Camera2D" parent="." index="4"]

position = Vector2( 477.53, 268.006 )
anchor_mode = 1
rotating = false
current = true
zoom = Vector2( 1, 1 )
limit_left = -10000000
limit_top = -10000000
limit_right = 10000000
limit_bottom = 10000000
limit_smoothed = false
drag_margin_h_enabled = true
drag_margin_v_enabled = true
smoothing_enabled = false
smoothing_speed = 5.0
offset_v = 0.0
offset_h = 0.0
drag_margin_left = 0.2
drag_margin_top = 0.2
drag_margin_right = 0.2
drag_margin_bottom = 0.2
editor_draw_screen = true
editor_draw_limits = false
editor_draw_drag_margin = false
script = ExtResource( 16 )
_sections_unfolded = [ "Editor", "Transform", "Visibility" ]


[editable path="Stage/Background/Blood"]
[editable path="Stage/Background/Window"]
[editable path="Stage/Foreground/Kitchen_2"]
[editable path="Stage/Foreground/Mother"]
[editable path="Stage/Foreground/Pantry"]
